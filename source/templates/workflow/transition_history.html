{% extends "base.html" %}

{% block title %}Transitions | {{ block.super }}{% endblock %}

{% block content %}
<div class="card">
    <h2>State History</h2>
    <p><strong>Object:</strong> {{ object }}</p>
    <table>
        <tr><th>#</th><th>Field</th><th>From</th><th>To</th><th>Transition</th><th>Timestamp</th></tr>
        {% for transition in transitions %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ transition.state_field }}</td>
                <td>{{ transition.from_state|default:'—' }}</td>
                <td>{{ transition.to_state }}</td>
                <td>{{ transition.transition|default:'—' }}</td>
                <td>{{ transition.occurred_at|date:"Y-m-d H:i:s" }}</td>
            </tr>
        {% empty %}
            <tr><td colspan="6">No transitions recorded.</td></tr>
        {% endfor %}
    </table>
    <div style="margin-top:1rem;">
        <a class="btn" href="{{ back_url }}">Back</a>
    </div>
</div>
{% endblock %}
