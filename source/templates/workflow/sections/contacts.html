{% extends "base.html" %}
{% block title %}Contacts | {{ block.super }}{% endblock %}
{% block content %}
<div class="page-header">
    <h2>Contacts</h2>
    {% if page_new_url %}
        <a class="btn" href="{{ page_new_url }}?next={{ current_url|urlencode }}">New</a>
    {% endif %}
</div>
<div class="card">
    <table>
        <tr><th>Contact</th><th>Contact Info</th><th class="actions-column">Actions</th></tr>
        {% for contact in contacts %}
            <tr>
                <td>
                    <div class="table-title">{{ contact }}</div>
                    <div class="table-subtext">Created {{ contact.created_at|date:"M d, Y" }}</div>
                </td>
                <td>
                    <div class="table-title">{{ contact.email|default:"Sin email" }}</div>
                    <div class="table-subtext">{{ contact.phone_number|default:"Sin teléfono" }}</div>
                </td>
                <td class="actions-column">
                    <a class="icon-button" data-icon="✏" href="{% url 'contact-edit' contact.id %}?next={{ current_url|urlencode }}" title="Edit contact">
                        <span class="sr-only">Edit {{ contact }}</span>
                    </a>
                </td>
            </tr>
        {% empty %}
            <tr><td colspan="3">No contacts yet.</td></tr>
        {% endfor %}
    </table>
</div>
{% endblock %}
