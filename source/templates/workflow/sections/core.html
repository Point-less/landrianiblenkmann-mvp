{% extends "base.html" %}
{% block title %}Core Dashboard | {{ block.super }}{% endblock %}
{% block content %}
{% url 'workflow-dashboard' as core_dashboard_url %}
<section>
    <h2>Core</h2>
    <div class="card">
        <h3>Agents</h3>
        <table>
            <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
            {% for agent in agents %}
                <tr>
                    <td>{{ agent }}</td>
                    <td>{{ agent.email }}</td>
                    <td><a href="{% url 'agent-edit' agent.id %}?next={{ core_dashboard_url }}">Edit</a></td>
                </tr>
            {% empty %}
                <tr><td colspan="3">No agents yet.</td></tr>
            {% endfor %}
        </table>
    </div>
    <div class="card">
        <h3>Contacts</h3>
        <table>
            <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
            {% for contact in contacts %}
                <tr>
                    <td>{{ contact }}</td>
                    <td>{{ contact.email }}</td>
                    <td><a href="{% url 'contact-edit' contact.id %}?next={{ core_dashboard_url }}">Edit</a></td>
                </tr>
            {% empty %}
                <tr><td colspan="3">No contacts yet.</td></tr>
            {% endfor %}
        </table>
    </div>
    <div class="card">
        <h3>Properties</h3>
        <table>
            <tr><th>Name</th><th>Reference</th><th>Actions</th></tr>
            {% for property in properties %}
                <tr>
                    <td>{{ property.name }}</td>
                    <td>{{ property.reference_code }}</td>
                    <td><a href="{% url 'property-edit' property.id %}?next={{ core_dashboard_url }}">Edit</a></td>
                </tr>
            {% empty %}
                <tr><td colspan="3">No properties yet.</td></tr>
            {% endfor %}
        </table>
    </div>
</section>
{% endblock %}
